<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
        template="/templates/template_admin.xhtml">
    <ui:define name="content_body">
        <div class="container">
            <h:form id="form_data" styleClass="card">
                <div class="title-card">
                    <div class="title-card-icon-text">
                        <i class="pi pi-book"/>
                        <span>#{bundle.dictionary}</span>
                    </div>
                </div>
                <div class="content-card">
                    <div style="overflow-x: auto">
                        <p:dataTable value="#{homeCtrl.allKeywords}" var="keyword"
                                     tableStyle="min-width: 60rem !important;" styleClass="custom-table"
                                     paginator="true" paginatorPosition="bottom" rows="10">
                            <p:column headerText="#{bundle.keyword}" filterBy="#{keyword}" sortBy="#{keyword}" filterMatchMode="contains">
                                <h:outputText value="#{keyword}"/>
                            </p:column>
                            <p:columns value="#{homeCtrl.allLanguages}" var="lang" filterMatchMode="contains"
                                       filterBy="#{homeCtrl.getKeywordValue(lang, keyword).value}"
                                       sortBy="#{homeCtrl.getKeywordValue(lang, keyword).value}">
                                <f:facet name="header">
                                    <i class="#{lang.icon}" style="margin-right: 0.5rem"/>
                                    <h:outputText style="text-transform: uppercase" value="#{lang.name}"/>
                                </f:facet>
                                <p:commandButton styleClass="ui-button-flat" update="edit" oncomplete="PF('edit_wv').show()"
                                                 actionListener="#{homeCtrl.updateParams(lang, keyword)}"
                                                 value="#{homeCtrl.getKeywordValue(lang, keyword).value}"/>
                            </p:columns>
                        </p:dataTable>
                    </div>
                </div>
            </h:form>
        </div>

        <h:form id="edit">
            <p:dialog styleClass="custom-dialog-top" widgetVar="edit_wv" header="#{bundle.edit_item}"
                      closable="false" resizable="false" draggable="false" blockScroll="true" modal="true">
                <div style="display: flex; gap: 0.5rem; justify-content: center; text-transform: uppercase; font-weight: bold;">
                    <span class="#{homeCtrl.currentDictionary.languageId.icon}"/>
                    <h:outputText value="#{homeCtrl.currentDictionary.languageId.name}"/>
                </div>
                <div class="input-group" style="margin-bottom: 2rem">
                    <p:outputLabel for="@next" value="#{bundle.keyword}"/>
                    <p:inputText value="#{homeCtrl.currentDictionary.keyword}" disabled="true"/>
                </div>
                <div class="input-group" style="margin-bottom: 2rem">
                    <p:outputLabel for="@next" value="#{bundle.value}"/>
                    <p:inputTextarea rows="5" value="#{homeCtrl.currentDictionary.value}"/>
                </div>
                <div style="display: grid; max-height: 50vh">
                    <div style="display: flex; justify-content: flex-end; gap: 1rem">
                        <p:commandButton styleClass="ui-button-secondary" value="#{bundle.cancel}"
                                         oncomplete="PF('edit_wv').hide()"/>
                        <p:commandButton value="#{bundle.accept}" actionListener="#{homeCtrl.updateDictionary()}"
                                         update="form_data" oncomplete="PF('edit_wv').hide()"/>
                    </div>
                </div>
            </p:dialog>
        </h:form>
    </ui:define>
</ui:composition>