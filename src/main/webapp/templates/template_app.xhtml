<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
        template="/templates/template_base.xhtml">
    <ui:define name="base_head">
        <h:outputStylesheet library="mimsoft" name="/css/custom-app.css"/>
        <ui:insert name="end_head"/>
    </ui:define>
    <ui:define name="header_left">
        <p:commandButton value="#{appTemplateCtrl.getKeyword('search')}" icon="pi pi-search"
                         oncomplete="PF('search_modal_wv').show()"
                         styleClass="rounded-button ui-button-outlined"/>
    </ui:define>
    <ui:define name="header_right">
        <p:menubar model="#{appTemplateCtrl.menuButtonModel}"/>
    </ui:define>
    <ui:define name="navigation_drawer_content">
        <div style="margin: 2rem 2rem 0 2rem">
            <div style="display: grid">
                <p:commandButton style="width: 100%; text-transform: uppercase; font-weight: bold; padding: 1rem"
                                 styleClass="ui-button-flat" actionListener="#{routerCtrl.navigate('home')}"
                                 value="#{appTemplateCtrl.getKeyword('home')}"/>
                <p:divider/>
                <ui:repeat value="#{appTemplateCtrl.allProject}" var="project">
                    <p:commandButton style="width: 100%; text-transform: uppercase; font-weight: bold; padding: 1rem"
                                     actionListener="#{appTemplateCtrl.navigateRouteProject(project)}"
                                     styleClass="ui-button-flat" value="#{appTemplateCtrl.getKeyword(project.nameKeyword)}"
                                     rendered="#{requestCtrl.existParam('visible_code', project.visibleCode)}"/>
                </ui:repeat>
            </div>
            <p:commandButton style="margin: 2rem 0; width: 100%" value="#{appTemplateCtrl.getKeyword('login')}" process="@this"
                             actionListener="#{routerCtrl.navigate('admin_login')}"/>
        </div>
    </ui:define>
    <ui:define name="base_content_body">
        <div style="margin-top: var(--toolbar-height);">
            <ui:insert name="content_body"/>
        </div>

        <h:form id="search_modal">
            <p:dialog widgetVar="search_modal_wv" styleClass="custom-dialog-top" showHeader="false"
                      closable="true" resizable="false" draggable="false" blockScroll="true" modal="true">
                <span class="ui-input-icon-left" style="width: 100%">
                    <i class="pi pi-search"/>
                    <p:inputText style="width: 100%" placeholder="#{appTemplateCtrl.getKeyword('search')}" value="#{appTemplateCtrl.search}">
                        <p:ajax event="input" listener="#{appTemplateCtrl.searchEvent}" update="search_modal:result"/>
                    </p:inputText>
                </span>
                <p:outputPanel id="result" style="display: grid;">
                    <h:outputText value="Empty Result" style="padding: 2rem 0 !important; text-align: center; font-weight: bold; font-size: 1.5rem; text-transform: uppercase; opacity: 0.4;"/>
                    <h:outputText value="#{appTemplateCtrl.search}"/>
                </p:outputPanel>
                <div>
                    <p:commandButton value="close" oncomplete="PF('search_modal_wv').hide()"/>
                </div>
            </p:dialog>
        </h:form>
    </ui:define>
</ui:composition>